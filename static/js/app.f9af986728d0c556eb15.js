webpackJsonp([1],[,,,,,,,,,,,function(t,e,i){var r=i(1)(i(47),i(98),null,null,null);t.exports=r.exports},,,,,,,,,,,function(t,e,i){"use strict";function r(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];i.reverse().forEach(function(e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})}e.a=r},,,,,,,,,,,,,,,function(t,e,i){"use strict";var r=i(4),n=i(103),a=i(94),s=i.n(a);r.a.use(n.a),e.a=new n.a({routes:[{path:"/",name:"Vue3D",component:s.a}]})},function(t,e,i){"use strict";var r=i(4),n=i(21);r.a.use(n.b);var a={hoverObj:null,selectObj:null,wheelChg:0},s={hoverObj:function(t){return t.hoverObj},selectObj:function(t){return t.selectObj},wheelChg:function(t){return t.wheelChg}},o={HOVER:function(t,e){!e&&!t.hoverObj||e&&t.hoverObj&&e.uuid===t.hoverObj.uuid||(console.log("HOVER",e),(!e||t.hoverObj&&e.uuid!==t.hoverObj.uuid)&&(t.hoverObj.vue.hover(!1),t.hoverObj=null),e&&(t.hoverObj=e,e.vue.hover(!0)))},SELECT:function(t,e){e&&t.selectObj===e&&(t.selectObj.vue.select(!1),e=null),e&&e!==t.selectObj&&e.vue.select(!0),t.selectObj=e},WHEEL:function(t,e){var i=e.val;this.dbgPrt("store wheel",i,t.selectObj)}},c={hover:function(t,e){(0,t.commit)("HOVER",e)},select:function(t,e){(0,t.commit)("SELECT",e)},wheelChg:function(t,e){(0,t.commit)("WHEEL",e)}},u={};e.a=new n.b.Store({state:a,getters:s,mutations:o,actions:c,modules:u})},function(t,e,i){function r(t){i(83)}var n=i(1)(i(41),i(96),r,null,null);t.exports=n.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(4),n=i(39),a=i.n(n),s=i(37),o=i(38);r.a.config.productionTip=!1;r.a.mixin({methods:{dbgPrt:function(){var t;(t=console).log.apply(t,arguments)}}}),new r.a({store:o.a,el:"#app",router:s.a,template:"<App/>",components:{App:a.a}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(24),n=i.n(r),a=i(0),s=i(11),o=i.n(s),c=i(36),u=i.n(c),h=i(21);e.default={name:"Camera",mixins:[o.a],props:{obj:{type:a.Camera},fov:{default:45},aspect:{default:1},near:{default:.1},far:{default:3e3},type:{default:"Perspective"},control:Boolean},data:function(){return{controls:null}},created:function(){if(this.curObj=this.obj,!(this.curObj instanceof a.Camera)){switch(this.type){case"Orthographic":this.curObj=new a.OrthographicCamera(this.fov,this.aspect,this.near,this.far);break;case"Perspective":default:this.curObj=new a.PerspectiveCamera(this.fov,this.aspect,this.near,this.far)}this.curObj.vue=this,this.curObj.position.z=150,this.setCamera(),this.control&&(this.domEle=this.$parent.$parent.domEle,this.curObj.tst=0,this.controls=new u.a(this.curObj,this.domEle))}this.curObj.name=this.curObj.name||this.curObj.type,this.dbgPrt("createCAM",this.curObj.uuid)},mounted:function(){this.dbgPrt("mountCAM",this.curObj.uuid),this.$parent.$emit("addCamera",this.curObj)},computed:n()({},i.i(h.a)({}),{thisCamera:function(){return this.curObj}}),methods:{setCamera:function(t){}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(53),n=i.n(r),a=i(0),s=a.Geometry;e.default={name:"Geometry",props:{obj:{type:a.Geometry},type:{type:String,default:null},color:{default:"#ffffff"},intensity:{default:1},args:{default:""}},beforeCreate:function(){},created:function(){this.curObj=this.obj,console.log("createGEO");var t=null;if(!(this.curObj instanceof s)){this.dbgPrt("MG",this.type,this.args.split(","));var e=this.args.split(",");if(this.type)switch(this.type){case"Cylinder":t=new(Function.prototype.bind.apply(a.CylinderGeometry,[null].concat(n()(e))));break;case"Box":default:t=new(Function.prototype.bind.apply(a.BoxGeometry,[null].concat(n()(e))))}else t=new s;this.curObj=t,this.curObj.material=[]}this.curObj.vue=this,this.curObj.name=this.curObj.name||this.curObj.type,this.$on("addMaterial",this.addMaterial)},mounted:function(){this.$parent.$emit("setGeometry",this.curObj)},methods:{addMaterial:function(t){this.curObj.material.push(t),this.$parent.$emit("addMaterial",t)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),n=i(11),a=i.n(n);e.default={name:"Light",mixins:[a.a],props:{obj:{type:r.Light},type:{default:"AmbientLight"},color:{default:"#ffffff"},intensity:{default:1}},created:function(){if(this.curObj=this.obj,!(this.curObj instanceof r.Light))switch(this.type){case"AmbientLight":this.curObj=new r.AmbientLight(this.color,this.intensity);break;case"Directional":this.curObj=new r.DirectionalLight(this.color,this.intensity);break;case"PointLight":case"SpotLight":default:this.curObj=new r.AmbientLight(this.color,this.intensity)}this.curObj.vue=this,this.curObj.name=this.curObj.name||this.curObj.type,this.dbgPrt("creatLHT"),this.$parent.$emit("addLight",this.curObj)},mounted:function(){this.dbgPrt("mountLGT")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),n=r.Material,a=r.MeshNormalMaterial,s=r.MeshBasicMaterial,o=r.MeshStandardMaterial;e.default={name:"Material",props:{obj:{type:n},type:{default:"Standard"},fog:{default:!1},opacity:{default:1},side:Object,transparent:Boolean,color:{default:"#88cc88"},parameters:{}},created:function(){if(this.curObj=this.obj,!(this.curObj instanceof n))switch(this.type){case"Basic":this.curObj=new s({color:this.color});break;case"Standard":this.curObj=new o({color:this.color});break;case"Normal":default:this.curObj=new a}this.dbgPrt("createMAT",this.color,this.type,this.curObj.uuid),this.curObj.vue=this,this.curObj.name=this.curObj.name||this.curObj.type},mounted:function(){this.$parent.$emit("addMaterial",this.curObj)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(23),n=i.n(r),a=i(0),s=i(11),o=i.n(s),c=a.Mesh;e.default={name:"Mesh",extends:[o.a],props:{obj:{type:c},drawEdge:{type:Boolean,default:!0},geometry:{type:a.Geometry},material:{type:a.Material}},data:function(){return{id:"test",hovered:!1,mat:[],geo:null}},beforeCreate:function(){this.edgeMat=new a.LineBasicMaterial({color:0})},created:function(){this.curObj=this.obj,this.mat=[],this.curObj=new a.Mesh,this.curObj.vue=this,this.curObj.name=this.curObj.name||this.curObj.type,this.$on("setGeometry",this.addGeo),this.$on("addMaterial",this.addMat),this.dbgPrt("createMSH",this.curObj.uuid)},mounted:function(){this.dbgPrt("mountMSH",this.curObj.uuid),this.$parent.$emit("addMesh",this.curObj)},updated:function(){this.dbgPrt("updateMSH")},methods:{drawEdges:function(t){var e=new a.EdgesGeometry(t,1);return new a.LineSegments(e,this.edgeMat)},addGeo:function(t){this.geo=t,this.curObj.geometry=t,this.curObj.material=this.mat[1],this.curObj.name=this.curObj.name||this.curObj.type,this.dbgPrt("mkMSH",this.curObj.uuid,this.mat[0].color,n()({},this.mat[0]));var e=this.drawEdges(t);e.vue=this,this.$parent.$emit("addMesh",e)},addMat:function(t){this.dbgPrt("addMatMSH",t.uuid),this.mat.push(t)},onClick:function(t){this.dbgPrt(t)},onHover:function(){var t=this;this.$store.dispatch("hover",{self:t})},onSelect:function(){var t=this;this.$store.dispatch("select",{self:t})},hover:function(t){var e=this.curObj.material;this.dbgPrt(t,this.curObj.uuid,e),this.curObj.material.wireframe=!!t},select:function(t){var e=this.curObj,i=e.material;this.dbgPrt(t,n()({},i)),e.material=t?this.mat[5]:this.mat[1]}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),n=i(22),a=r.Object3D;e.default={name:"Object3D",props:{obj:{type:a},position:{type:Object},rotation:{type:Object},scale:{type:Object},matrix:r.Matrix4,matrixWorld:r.Matrix4,usedData:Object,visible:Boolean,onAfterRender:function(t,e,i,r,n,a){},onBeforeRender:function(t,e,i,r,n,a){},up:{type:Object},idName:""},watch:{position:function(t){i.i(n.a)(this.curObj.position,t)},rotation:function(t){i.i(n.a)(this.curObj.rotation,t)}},data:function(){return{curObj:null,mats:[]}},computed:{parentObj:function(){var t=this.$parent.curObj;return t instanceof a?t:null}},created:function(){this.curObj=this.obj,this.curObj instanceof a||(this.curObj=new a),this.curObj.name=this.curObj.name||this.curObj.type,this.curObj.vue=this,this.$on("addChild",this.addChild),this.$on("rmChild",this.rmChild),this.$on("addMaterial",this.addMaterial),this.$on("setGeometry",this.addGeometry),this.dbgPrt("createO3D",this.curObj.uuid)},mounted:function(){i.i(n.a)(this.curObj.position,this.position),i.i(n.a)(this.curObj.rotation,this.rotation),this.$parent.$emit("addChild",this.curObj),this.dbgPrt("mountO3D",this.curObj.uuid)},beforeDestroy:function(){this.$parent.$emit("rmChild",this.curObj)},methods:{addChild:function(t){this.curObj.uuid!==t.uuid&&(this.dbgPrt("addChldO3D",t.uuid),this.curObj.add(t))},rmChild:function(t){this.curObj.remove(t)},addMaterial:function(t){this.dbgPrt("addMatO3D",t.uuid),this.mats.push(t),this.curObj.material=this.mats},addGeometry:function(t){this.dbgPrt("addGeoO3D",t.uuid),this.curObj.geometry=t}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(36),n=(i.n(r),i(0)),a=i(22);e.default={name:"OrbitControls",props:{obj:{type:r.OrbitControls},enable:{default:!0},minPolarAngle:{default:0},maxPolarAngle:{default:Math.PI},enableDamping:{default:!1}},created:function(){this.curObj=this.obj,this.dbgPrt("ORBIT create",this.$parent.curObj),this.curObj=this.mkControls()},data:function(){return{curObj:null}},mounted:function(){},computed:{camera:function(){return this.$parent.camera},domEle:function(){return null},mkControls:function(){console.log("orbit real");var t=void 0;return this.curObj instanceof n.Camera||(t=new r.OrbitControls(this.camera)),t.name=t.name||t.type,t}},methods:{setCamera:function(t){console.log("ORBIT camera"),i.i(a.a)(this.curObj.position,this.position),i.i(a.a)(this.curObj.rotation,this.rotation),this.parentObj&&this.parentObj.add(this.curObj)},animate:function(){},render:function(){}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0);e.default={name:"Renderer",props:{size:{type:Object},obj:{type:r.WebGLRenderer},alpha:{type:Boolean,default:!0},antialias:{type:Boolean,default:!0},clearColor:{type:String,default:"#e0e0e0"},sortObjects:{type:Boolean,default:!1}},data:function(){return{curObj:null,lights:[],domEle:null}},created:function(){this.curObj=this.obj,this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight,this.size3d={w:.6*this.width,h:.6*this.width},this.curObj instanceof r.WebGLRenderer||(this.curObj=new r.WebGLRenderer({antialias:this.antialias,alpha:this.alpha})),this.curObj.vue=this,this.curObj.name=this.curObj.name||this.curObj.type,this.curObj.setSize(800,800),this.domEle=this.curObj.domElement,this.curObj.setClearColor(this.clearColor),this.scene=null,this.camera=null,this.raycast=new r.Raycaster,this.domEle.addEventListener("mousemove",this.onMouseMove,!0),this.domEle.addEventListener("dblclick",this.onClick,!1),this.domEle.addEventListener("wheel",this.onWheel,!1),this.$on("addScene",this.addScene),this.$on("addCamera",this.addCamera),this.dbgPrt("createREN")},mounted:function(){this.$refs.container.appendChild(this.curObj.domElement),this.animate()},beforeDestroy:function(){},computed:{},methods:{_getIntersect:function(t){var e={x:this.domEle.offsetLeft,y:this.domEle.offsetTop,h:this.domEle.offsetHeight,w:this.domEle.offsetWidth},i={};return i.x=(t.layerX-e.x)/e.w*2-1,i.y=-(t.layerY-e.y)/e.h*2+1,this.raycast.setFromCamera(i,this.camera),this.raycast.intersectObjects(this.scene.children)},onMouseMove:function(t){t.preventDefault();var e=this._getIntersect(t),i=null;e.length>0&&(i=e[0].object),this.$store.dispatch("hover",i),this.animate()},onClick:function(t){t.preventDefault();var e=this._getIntersect(t),i=null;e.length>0&&(i=e[0].object,this.$store.dispatch("select",i)),this.animate()},onWheel:function(t){var e=this._getIntersect(t);if(e.length>0){var i=e[0].object;i===this.selectObj&&(t.preventDefault(),t.stopImmediatePropagation(),this.$store.dispatch("wheelChg",{obj:i,val:t.deltaY}),this.animate())}},addScene:function(t){this.scene=t,this.dbgPrt("addScene",t.uuid)},addCamera:function(t){this.dbgPrt("addCam",t.uuid),this.camera=t},animate:function(){if(!this.camera)return void this.dbgPrt("RENnoCAM");this.controls&&this.controls.update(),requestAnimationFrame(this.animate),this.curObj.render(this.scene,this.camera)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),n=i(11),a=i.n(n);e.default={name:"Scene",mixins:[a.a],props:{obj:{type:r.Scene}},data:function(){return{lights:[],meshes:[],cameras:[]}},created:function(){this.curObj=this.obj,this.curObj instanceof r.Scene||(this.curObj=new r.Scene),this.curObj.name=this.curObj.name||this.curObj.type,this.lights=[],this.meshes=[],this.curObj.vue=this,this.$on("addCamera",this.addCamera),this.$on("addLight",this.addLight),this.$on("addMesh",this.addMesh),this.dbgPrt("createSCN",this.curObj.uuid)},mounted:function(){this.dbgPrt("mountSCN",this.curObj.uuid),this.$parent.$emit("addScene",this.curObj)},methods:{addCamera:function(t){this.cameras.push(t),this.$parent.$emit("addCamera",t),this.dbgPrt("addCamSCN",t.uuid)},addLight:function(t){this.dbgPrt("addLightSCN"),this.lights.push(t),this.curObj.add(t)},addMesh:function(t){this.dbgPrt("addMeshSCN",t.uuid),this.meshes.push(t),this.curObj.add(t)}},computed:{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(24),n=i.n(r),a=i(4),s=i(21),o=i(0),c=i(92),u=i.n(c),h=i(93),d=i.n(h),l=i(86),f=i.n(l),b=i(88),m=i.n(b),p=i(90),v=i.n(p),j=i(87),O=i.n(j),y=i(89),g=i.n(y),_=i(91),C=i.n(_);a.a.component("v3d-renderer",u.a),a.a.component("v3d-scene",d.a),a.a.component("v3d-camera",f.a),a.a.component("v3d-light",m.a),a.a.component("v3d-mesh",v.a),a.a.component("v3d-geometry",O.a),a.a.component("v3d-material",g.a),a.a.component("v3d-orbit-controls",C.a),e.default={name:"vue3d",data:function(){return{msg:"Vue and Three JS test project",version3d:"",objInfo:"",threeSize:{w:"800px",h:"800px"},selectIt:"Double click to select cube, mouse down to rotate, wheel to zoon"}},created:function(){this.version3d=o.REVISION},mounted:function(){var t=this.$refs.infopop;t.style.top=this.mySize.top+"px",t.style.left=this.mySize.left+"px"},computed:n()({},i.i(s.a)({hoverObj:"hoverObj",selectObj:"selectObj"}),{showInfo:function(){return null!==this.hoverObj?(this.objInfo=this.hoverObj,!0):(this.objInfo="",!1)},mySize:function(){var t=this.$refs.renderer.$el;return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight,bottom:t.offsetTop+t.offsetHeight,right:t.offsetLeft+t.offsetWidth}}})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e,i){var r=i(1)(i(42),null,null,null,null);t.exports=r.exports},function(t,e,i){var r=i(1)(i(43),i(101),null,null,null);t.exports=r.exports},function(t,e,i){var r=i(1)(i(44),null,null,null,null);t.exports=r.exports},function(t,e,i){var r=i(1)(i(45),i(99),null,null,null);t.exports=r.exports},function(t,e,i){var r=i(1)(i(46),i(95),null,null,null);t.exports=r.exports},function(t,e,i){var r=i(1)(i(48),i(100),null,null,null);t.exports=r.exports},function(t,e,i){function r(t){i(84)}var n=i(1)(i(49),i(97),r,"data-v-268b907b",null);t.exports=n.exports},function(t,e,i){var r=i(1)(i(50),null,null,null,null);t.exports=r.exports},function(t,e,i){function r(t){i(85)}var n=i(1)(i(51),i(102),r,"data-v-7e2af2ef",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default"),t._v(" "),i("div",{ref:"container"})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue3d"},[i("h1",[t._v(t._s(t.msg))]),t._v(" "),i("div",{ref:"three3d",staticClass:"three3d",attrs:{id:"three3d"}},[i("h2",[t._v(t._s(t.selectIt))]),t._v(" "),i("v3d-renderer",{ref:"renderer",attrs:{size:this.threeSize}},[i("v3d-scene",{ref:"scene"},[i("v3d-camera",{ref:"camera0",attrs:{control:!0}}),t._v(" "),i("v3d-light",{attrs:{color:"#ffffff"}}),t._v(" "),i("v3d-mesh",[i("v3d-geometry",{ref:"geo",attrs:{type:"Box",args:"20,20,20"}},[i("v3d-material",{ref:"mat",attrs:{type:"Standard",color:"#ff0000"}}),t._v(" "),i("v3d-material",{attrs:{type:"Standard",color:"#00ff00"}}),t._v(" "),i("v3d-material",{attrs:{type:"Standard",color:"#0000ff"}}),t._v(" "),i("v3d-material",{attrs:{type:"Standard",color:"#ff00ff"}}),t._v(" "),i("v3d-material",{attrs:{type:"Standard",color:"#ffff00"}}),t._v(" "),i("v3d-material",{attrs:{type:"Normal",color:"#00ffff"}})],1)],1)],1)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showInfo,expression:"showInfo"}],ref:"infopop",staticClass:"infopop"},[i("div",[t._v(t._s(t.objInfo.uuid))])])],1),t._v(" "),i("div",{staticClass:"right"},[i("h3",[t._v("Template Code")]),t._v(" "),i("pre",[t._v('    <div id="three3d" class="three3d" ref="three3d">'),i("br"),t._v('\n      <v3d-renderer ref="renderer" :size="this.threeSize">'),i("br"),t._v('\n        <v3d-scene ref="scene">'),i("br"),t._v('\n          <v3d-camera :control="true" ref="camera0">'),i("br"),t._v("\n          </v3d-camera>"),i("br"),t._v('\n          <v3d-light color="#ffffff"></v3d-light>'),i("br"),t._v("\n          <v3d-mesh>"),i("br"),t._v('\n            <v3d-geometry type="Box" args="20,20,20" ref="geo">'),i("br"),t._v('\n              <v3d-material type="Standard" color="#ff0000" ref="mat"></v3d-material>'),i("br"),t._v('\n              <v3d-material type="Standard" color="#00ff00"></v3d-material>'),i("br"),t._v('\n              <v3d-material type="Standard" color="#0000ff"></v3d-material>'),i("br"),t._v('\n              <v3d-material type="Standard" color="#ff00ff"></v3d-material>'),i("br"),t._v('\n              <v3d-material type="Standard" color="#ffff00"></v3d-material>'),i("br"),t._v('\n              <v3d-material type="Normal" color="#00ffff"></v3d-material>'),i("br"),t._v("\n            </v3d-geometry>"),i("br"),t._v("\n          </v3d-mesh>"),i("br"),t._v("\n        </v3d-scene>"),i("br"),t._v("\n      </v3d-renderer>"),i("br"),t._v('\n      <div v-show="showInfo" class="infopop" ref="infopop">'),i("br"),t._v("\n        <div >"+t._s(t.objInfo.uuid)+"</div>"),i("br"),t._v("\n      </div>"),i("br"),t._v("\n")])])])},staticRenderFns:[]}}],[40]);
//# sourceMappingURL=app.f9af986728d0c556eb15.js.map